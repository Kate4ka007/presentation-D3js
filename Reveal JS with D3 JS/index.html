<!doctype html>
<html lang="en">
<head>
		<meta charset="utf-8">
		<title>Reveal.js with D3 JS</title>
		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">
		<style>
			.chart rect {
			  fill: #63b6db;
			}

			.chart text {
			  fill: white;
			  font: 10px sans-serif;
			  text-anchor: end;
			}

			text {
			  font: 10px sans-serif;
			}

			.page-start__d3 {
				overflow: hidden;
				margin: 0 auto;
			}

			.page-start__image {
				transform: translate(0px, -40px);				
			}

			.page-help__list .page-help__list-item {
				margin-bottom: 20px;
			}

			.page-features__list .page-features__list-item {
				margin-bottom: 10px;
			}

			.page-setup__text .code,
			.page-components__text .code {
				color: rgb(216, 95, 95);
				font-style: italic;
			}

			.code-img {
				width: 70%;
			}

			.page-components__list .page-components__list-item {
				margin-bottom: 20px;
			}

			.page-selection .page-selection__wrapper {
				overflow: hidden;
				height: 400px;				
			}

			.page-selection__title .page-selection__brackets {
				font: 1.5em sans-serif;
				margin-top: -10px;
				font-weight: bold;
			}

			.page-selection__title .page-selection__brackets-all {
				font: 1.0em sans-serif;
				margin-top: -10px;
				font-weight: bold;
			}

			.page-selection .page-selection__title-all {
				font-size: 50px;
			}
		</style>
</head>
<body class="pages">
		<div class="reveal">
			<div class="slides">
				<section class="pages__title title">
					<h2>Barebones Presentation</h2>
					<p>This example contains the bare minimum includes and markup required to run a reveal.js presentation.</p>
					<svg class="chart"></svg>
				</section>

				<section class="page__start page-start">
					<h2 class="page-start__title">D3.js (Data-Driven-Documents)</h2>
					<p class="page-start__d3"><img class="page-start__image" src="./assets/d3.gif"></p>
					<!-- <svg class="chart2"></svg> -->
				</section>

				<section class="page__about page-about">
					<h2 class="page-about__title">What it is?</h2>
					<p class="page-about__text">D3.js (Data-Driven-Documents) is an open-source JavaScript library that lets you create dynamic data visualizations in web browsers using SVC, HTML 5, and CSS. It was created by Mike Bostock in 2011 as a spiritual successor to Protovis. D3.js specializes in representing large data sets in a digestible and interactive means.</p>					
				</section>

				<section class="page__about page-about">
					<h2 class="page-about__title">What it is?</h2>
					<p class="page-about__text">D3.js visualizations are created entirely using JavaScript. This allows frontend developers to add advanced data visualization to their UIs without the hassle of learning a new language. <br> Many advanced data manipulation and visualization functions are built-in and implemented, meaning that a new D3.js user can create effects that would otherwise require years of experience.
                                      For example, D3.js features built-in graph styles for anything from a simple pie chart to an interactive circular barplot.</p>					
				</section>

				<section class="page__help page-help">
					<h2 class="page-help__title">Data visualization helps to:</h2>
					<p class="page-help__text">
						<ul class="page-help__list">
							<li class="page-help__list-item">Make quick decisions based on large data sets</li>
							<li class="page-help__list-item">Understand overarching market trends</li>
							<li class="page-help__list-item">Communicate information at a glance</li>
							<li class="page-help__list-item">Find errors in recorded data</li>							
						</ul>
					</p>					
				</section>

				<section class="page__features page-features">
					<h2 class="page-features__title">Top Features of D3.js</h2>
					<p class="page-features__text">
						<ul class="page-features__list">
							<li class="page-features__list-item"><strong>Web Standards:</strong> Uses the established standards SVG, HTML, and CSS to make it compatible with existing technologies.</li>
							<li class="page-features__list-item"><strong>Data-Driven:</strong> D3 can use static data or fetch it from remote servers in several formats like Arrays, Objects, CSV, JSON, or XML.</li>
							<li class="page-features__list-item"><strong>DOM Manipulation: </strong> D3 allows you to manipulate the Document Object Model (DOM) using your data.</li>
							<li class="page-features__list-item"><strong>Properties:</strong> D3 provides dynamic properties and elements. Properties can be specified as functions of data which then edit your elements. In other words, your data defines the style of your visualization.</li>							
						</ul>
					</p>					
				</section>

				<section class="page__features page-features">
					<h2 class="page-features__title">Top Features of D3.js</h2>
					<p class="page-features__text">
						<ul class="page-features__list">
							<li class="page-features__list-item"><strong>Types of visualization:</strong> D3 features dozens of built-in graph formats for common applications like ranking, correlation, and distribution.</li>
							<li class="page-features__list-item"><strong>Custom Visualizations:</strong> D3 allows you to create custom visualizations from scratch or by tweaking current graph formats.</li>
							<li class="page-features__list-item"><strong>Transitions and Animation:</strong> D3 provides built-in animation functions the transition(), duration(), delay() and ease() functions, which automatically animate features of your graph based on user interaction, timed transitions, or other events.</li>						
						</ul>
					</p>					
				</section>

				<section class="page__set-up page-setup">
					<h2 class="page-setup__title">D3.js Set up</h2>
					<p class="page-setup__text">
						Youâ€™ll have to set up a D3.js environment before you get hands-on. The four components of a D3.js environment are the D3 library, a web server, a text editor, and a web browser.
						You can use the D3 library by linking it directly to your HTML page from the Content Delivery Network (CDN). Using CDN will allow you to work with D3 without downloading the source code.				
					</p>					
				</section>

				<section class="page__set-up page-setup">
					<h2 class="page-setup__title">D3.js Set up</h2>
					<p class="page-setup__text">
						Include D3 by entering the CDN url for D3 in your <span class="code">head</span> section: <img class='code-img' src="./assets/code.JPG">
					</p>					
				</section>

				<section class="page__components page-components">
					<h2 class="page-components__title">Fundamental components of D3.js</h2>
					<p class="page-components__text">
						<ul class="page-components__list">
							<li class="page-components__list-item"><strong>Selections</strong>, used to select DOM elements for manipulation</li>
							<li class="page-components__list-item"><strong>DOM manipulation</strong>, used to add or modify text within DOM elements</li>
							<li class="page-components__list-item"><strong>Method Chaining</strong>, used to create a pipeline of methods that each transform an object.</li>
							<li class="page-components__list-item"><strong>Data Joins</strong>, used to bind data to a selected element to make data-based manipulations easier.</li>
						</ul>
					</p>					
				</section>

				<section class="page__components page-components">
					<h2 class="page-components__title">D3 Selections</h2>
					<p class="page-components__text">
						Selection is the beginning of most D3 method chains as it dictates which elements will be affected by later methods. There are two methods for selection in D3.js, <span class="code">select()</span> and <span class="code">selectAll()</span>.
					</p>					
				</section>

				<section class="page__selection page-selection">
					<h2 class="page-selection__title"><span>Select</span><span class="page-selection__brackets">()</span></h2>
					<p class="page-selection__text">
						The select() method is used to select a single instance of a given HTML tag. If multiple instances of the selected tag are present, then it will select the first element only.
					</p>
					<div class="page-selection__wrapper">
						<div class="page-selection__image">
							<img class="page-selection__gif" src="./assets/select.gif">
						</div>
					</div>
				</section>


					<section class="page__selection page-selection">
						<h2 class="page-selection__title"><span class="page-selection__title-all">SelectAll</span><span class="page-selection__brackets-all">()</span></h2>
						<p class="page-selection__text">
							The other method for selection is selectAll() which allows you to select multiple instances of an HTML tag. If multiple instances are present, it will select all of them. If the tag is not present, it will return an empty selection.
						</p>
						<div class="page-selection__wrapper">
							<div class="page-selection__image">
								<img class="page-selection__gif" src="./assets/selectAll.gif">
							</div>
						</div>															
					</section>
			

				<section class="page__example page-example" id="sect2">
					<h2 class="page-example__title">EXAMPLE</h2>
					<p class="page-example__text">There's no theme included, so it will fall back on browser defaults.</p>
					<svg class="bubleCharts"></svg>
				</section>
			</div>
		</div>

		<script src="js/reveal.min.js"></script>
		<script>
			Reveal.initialize();
		</script>

		<script src="js/d3.min.js"></script>
		<script type="text/javascript">
			//------ code to show D3 Bar Chart on First Slide-------
/// d3.selectAll('p').style('color', 'blue')

			var data = [44, 28, 15, 16, 23, 5];
			var width = 420,
			    barHeight = 20;

			var x = d3.scale.linear()
			    .domain([0, d3.max(data)])
			    .range([0, width]);

			var chart = d3.select(".chart")
			    .attr("width", width)
			    .attr("height", barHeight * data.length);

			var bar = chart.selectAll("g")
			    .data(data)
			  	.enter().append("g")
			    .attr("transform", function(d, i) { return "translate(0," + i * barHeight + ")"; });

			bar.append("rect")
			    .attr("width", x)
			    .attr("height", barHeight - 1);

			bar.append("text")
			    .attr("x", function(d) { return x(d) - 3; })
			    .attr("y", barHeight / 2)
			    .attr("dy", ".35em")
			    .text(function(d) { return d; });
		// 
		var chart2 = d3.select(".chart2")
		.attr("width", width)
			    .attr("height", barHeight * data.length);

			var bar2 = chart2.selectAll("g")
			    .data(data)
			  .enter().append("g")
			    .attr("transform", function(d, i) { return "translate(0," + i * barHeight + ")"; });

			bar2.append("rect")
			    .attr("width", x)
			    .attr("height", barHeight - 1);

			bar2.append("text")
			    .attr("x", function(d) { return x(d) - 3; })
			    .attr("y", barHeight / 2)
			    .attr("dy", ".35em")
			    .text(function(d) { return d; });
			


			//---Code below will show Bubble Charts on the secon Slide -------
			var diameter = 560,
		    	format = d3.format(",d"),
		    	color = d3.scale.category20c();

			var bubble = d3.layout.pack()
			    .sort(null)
			    .size([diameter, diameter])
			    .padding(1.5);

			var svg = d3.select(".bubleCharts")
			    .attr("width", diameter)
			    .attr("height", diameter)
			    .attr("class", "bubble");

			d3.json("flare.json", function(error, root) {
			  var node = svg.selectAll(".node")
			      .data(bubble.nodes(classes(root))
			      .filter(function(d) { return !d.children; }))
			    .enter().append("g")
			      .attr("class", "node")
			      .attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

			  node.append("title")
			      .text(function(d) { return d.className + ": " + format(d.value); });

			  node.append("circle")
			      .attr("r", function(d) { return d.r; })
			      .style("fill", function(d) { return color(d.packageName); });

			  node.append("text")
			      .attr("dy", ".3em")
			      .style("text-anchor", "middle")
			      .text(function(d) { return d.className.substring(0, d.r / 3); });
			});

			// Returns a flattened hierarchy containing all leaf nodes under the root.
			function classes(root) {
			  var classes = [];
			  function recurse(name, node) {
			    if (node.children) node.children.forEach(function(child) { recurse(node.name, child); });
			    else classes.push({packageName: name, className: node.name, value: node.size});
			  }
			  recurse(null, root);
			  return {children: classes};
			}

			d3.select(self.frameElement).style("height", diameter + "px");
		</script>
</body>
</html>
